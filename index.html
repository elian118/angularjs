<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <link href="style.css" rel="stylesheet" type="text/css" />
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="app.js"></script>
    <title>할 일 목록</title>
</head>
<body ng-app="todo" ng-controller="TodoCtrl">
<div class="p-8">
    <todo-title></todo-title>
    <form name="todoForm" class="max-w-[300px] mb-4" ng-submit="add(newTodoTitle)">
        <div class="todo-form flex flex-row">
            <input
                class="p-2 border rounded-l-md w-full focus:outline-none"
                type="text"
                ng-model="newTodoTitle"
                placeholder="새로운 할 일을 입력하세요."
                autofocus
                minlength="3"
            />
            <button
                class="min-w-max px-4 py-2 bg-green-500 hover:bg-green-700 text-white rounded-r-md"
                type="submit"
            >
                추가
            </button>
        </div>
        <div ng-show="todoForm.$dirty && todoForm.$invalid" class="px-2 py-[4px] bg-amber-100 text-amber-700">3글자 이상 입력하세요.</div>
    </form>
    <!--  test: <form name="todoForm" ... />에서 앵귤러에 선언된 todoForm 정보를 확인할 수 있다. 이걸로 유효성 검사에 활용 가능  -->
    <!--  특히, <form name="todoForm" ... />은 값 변화에 따라, 폼 안의 input class 속성도 변화한다. 이걸로 css 설정에 활용 가능 -->
    <!--  <pre>{{todoForm | json}}</pre>  -->
    <ul>
        <li ng-repeat="todo in todos | filter:statusFilter" class="list-none my-2">
            <todo-item></todo-item>
        </li>
    </ul>

    <button class="px-4 py-2 bg-blue-500 hover:bg-blue-700 text-white rounded-md" ng-click="statusFilter={completed: true}">Completed</button>
    <button class="px-4 py-2 bg-blue-500 hover:bg-blue-700 text-white rounded-md" ng-click="statusFilter={completed: false}">Active</button>
    <button class="px-4 py-2 bg-blue-500 hover:bg-blue-700 text-white rounded-md" ng-click="statusFilter={}">All</button>
</div>
</body>
</html>